{"version":3,"sources":["../src/app.js"],"names":["app","use","req","res","next","header","method","sendStatus","bodyParser","json","urlencoded","limit","extended","express","static","process","cwd","router","engine","extname","defaultLayout","layoutsDir","path","join","__dirname","set","listen","PORT","console","log"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,MAAM,wBAAZ;;AAEA;AACAA,IAAIC,GAAJ,CAAQ,UAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyB;AAC/BD,MAAIE,MAAJ,CAAW,6BAAX,EAA0C,GAA1C;AACAF,MAAIE,MAAJ,CACE,8BADF,EAEE,wCAFF;AAIAF,MAAIE,MAAJ,CAAW,8BAAX,EAA2C,4BAA3C;AACA,MAAI,aAAaH,IAAII,MAArB,EAA6B;AAC3BH,QAAII,UAAJ,CAAe,GAAf;AACD,GAFD,MAEO;AACLH;AACD;AACF,CAZD;;AAcAJ,IAAIC,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACA;AACAD,IAAIC,GAAJ,CAAQO,qBAAWC,IAAX,EAAR;;AAEA;AACAT,IAAIC,GAAJ,CAAQO,qBAAWE,UAAX,CAAsB,EAAEC,OAAO,MAAT,EAAiBC,UAAU,IAA3B,EAAtB,CAAR;;AAEAZ,IAAIC,GAAJ,CAAQ,UAAR,EAAoBY,kBAAQC,MAAR,CAAeC,QAAQC,GAAR,KAAgB,UAA/B,CAApB;;AAEAhB,IAAIC,GAAJ,CAAQgB,aAAR;;AAEAjB,IAAIkB,MAAJ,CACE,KADF,EAEE,iCAAI;AACFC,WAAS,KADP;AAEFC,iBAAe,SAFb;AAGFC,cAAYC,eAAKC,IAAL,CAAUC,SAAV,EAAqB,YAArB;AAHV,CAAJ,CAFF;AAQAxB,IAAIyB,GAAJ,CAAQ,OAAR,EAAiBH,eAAKC,IAAL,CAAUC,SAAV,EAAqB,YAArB,CAAjB;AACAxB,IAAIyB,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;;AAEAzB,IAAI0B,MAAJ,CAAWC,YAAX,EAAiB,YAAM;AACrBC,UAAQC,GAAR,6BAAsCF,YAAtC;AACD,CAFD;;kBAIe3B,G","file":"app.js","sourcesContent":["import { PORT } from \"./config\";\r\nimport express from \"express\";\r\nimport morgan from \"morgan\";\r\nimport bodyParser from \"body-parser\";\r\nimport router from \"./routes/web\";\r\nimport hbs from \"express-handlebars\";\r\nimport path from \"path\";\r\n\r\nconst app = express();\r\n\r\n// enable cors\r\napp.use(function(req, res, next) {\r\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\r\n  res.header(\r\n    \"Access-Control-Allow-Methods\",\r\n    \"GET, POST, OPTIONS, PUT, PATCH, DELETE\"\r\n  );\r\n  res.header(\"Access-Control-Allow-Headers\", \"Content-Type, x-auth-token\");\r\n  if (\"OPTIONS\" == req.method) {\r\n    res.sendStatus(200);\r\n  } else {\r\n    next();\r\n  }\r\n});\r\n\r\napp.use(morgan(\"dev\"));\r\n// support parsing of application/json type post data\r\napp.use(bodyParser.json());\r\n\r\n//support parsing of application/x-www-form-urlencoded post data\r\napp.use(bodyParser.urlencoded({ limit: \"50mb\", extended: true }));\r\n\r\napp.use(\"/uploads\", express.static(process.cwd() + \"/uploads\"));\r\n\r\napp.use(router);\r\n\r\napp.engine(\r\n  \"hbs\",\r\n  hbs({\r\n    extname: \"hbs\",\r\n    defaultLayout: \"welcome\",\r\n    layoutsDir: path.join(__dirname, \"/src/views\")\r\n  })\r\n);\r\napp.set(\"views\", path.join(__dirname, \"/src/views\"));\r\napp.set(\"view engine\", \"hbs\");\r\n\r\napp.listen(PORT, () => {\r\n  console.log(`App is running on port ${PORT}`);\r\n});\r\n\r\nexport default app;\r\n"]}