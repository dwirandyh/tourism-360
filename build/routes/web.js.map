{"version":3,"sources":["../../src/routes/web.js"],"names":["router","express","Router","post","User","insert","UserController","store","auth","get","Auth","detail","CategoryController","all","index","upload","single","Category","put","update","delete","TouristAttractionController","TouristAttraction","TouristGalleryController","attractionGallery","TouristGallery","popular","gallery","searchAttraction","getAttraction"],"mappings":"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","file":"web.js","sourcesContent":["import express from \"express\";\r\nimport {\r\n  User,\r\n  Category,\r\n  TouristAttraction,\r\n  TouristGallery\r\n} from \"../middleware/Validation\";\r\nimport { upload } from \"../middleware/Upload\";\r\nimport Auth from \"../middleware/Auth\";\r\n\r\nimport UserController from \"../controllers/UserController\";\r\nimport CategoryController from \"../controllers/CategoryController\";\r\nimport TouristAttractionController from \"../controllers/TouristAttractionController\";\r\nimport TouristGalleryController from \"../controllers/TouristGalleryController\";\r\n\r\nconst router = express.Router();\r\n\r\nrouter.post(\"/api/user\", User.insert, UserController.store);\r\nrouter.post(\"/api/auth\", User.auth, UserController.auth);\r\n\r\nrouter.get(\"/api/me/\", Auth, UserController.detail);\r\n\r\nrouter.get(\"/api/category/all\", Auth, CategoryController.all);\r\nrouter.get(\"/api/category\", [Auth], CategoryController.index);\r\nrouter.get(\"/api/category/:id\", [Auth], CategoryController.detail);\r\nrouter.post(\r\n  \"/api/category\",\r\n  Auth,\r\n  upload.single(\"thumbnail\"),\r\n  Category.insert,\r\n  CategoryController.store\r\n);\r\nrouter.put(\r\n  \"/api/category/:id\",\r\n  Auth,\r\n  upload.single(\"thumbnail\"),\r\n  Category.insert,\r\n  CategoryController.update\r\n);\r\nrouter.delete(\"/api/category/:id\", [Auth], CategoryController.delete);\r\n\r\n// Tourist Attractions\r\nrouter.get(\r\n  \"/api/tourist-attraction\",\r\n  [Auth],\r\n  TouristAttractionController.index\r\n);\r\nrouter.get(\r\n  \"/api/tourist-attraction/:id\",\r\n  [Auth],\r\n  TouristAttractionController.detail\r\n);\r\nrouter.post(\r\n  \"/api/tourist-attraction\",\r\n  Auth,\r\n  upload.single(\"thumbnail\"),\r\n  TouristAttraction.insert,\r\n  TouristAttractionController.store\r\n);\r\nrouter.put(\r\n  \"/api/tourist-attraction/:id\",\r\n  Auth,\r\n  upload.single(\"thumbnail\"),\r\n  TouristAttraction.insert,\r\n  TouristAttractionController.update\r\n);\r\nrouter.delete(\r\n  \"/api/tourist-attraction/:id\",\r\n  Auth,\r\n  TouristAttractionController.delete\r\n);\r\n\r\n// Tourist Gallery\r\nrouter.get(\"/api/tourist-gallery\", Auth, TouristGalleryController.index);\r\nrouter.get(\r\n  \"/api/tourist-gallery/attraction/:idAttraction\",\r\n  Auth,\r\n  TouristGalleryController.attractionGallery\r\n);\r\nrouter.get(\"/api/tourist-gallery/:id\", Auth, TouristGalleryController.detail);\r\nrouter.post(\r\n  \"/api/tourist-gallery\",\r\n  Auth,\r\n  upload.single(\"thumbnail\"),\r\n  TouristGallery.insert,\r\n  TouristGalleryController.store\r\n);\r\nrouter.put(\r\n  \"/api/tourist-gallery/:id\",\r\n  Auth,\r\n  upload.single(\"thumbnail\"),\r\n  TouristGallery.insert,\r\n  TouristGalleryController.update\r\n);\r\nrouter.delete(\r\n  \"/api/tourist-gallery/:id\",\r\n  Auth,\r\n  TouristGalleryController.delete\r\n);\r\n\r\n// PUBLIC API\r\n\r\n// Attraction Detail\r\nrouter.get(\r\n  \"/api/v1/attraction/:id([0-9]+)\",\r\n  TouristAttractionController.detail\r\n);\r\n\r\n// Popular Attraction\r\nrouter.get(\"/api/v1/attraction/popular\", TouristAttractionController.popular);\r\n\r\n// get attraction gallery\r\nrouter.get(\r\n  \"/api/v1/attraction/:id/gallery\",\r\n  TouristAttractionController.gallery\r\n);\r\n\r\n// Search Attraction\r\nrouter.get(\r\n  \"/api/v1/attraction/search\",\r\n  TouristAttractionController.searchAttraction\r\n);\r\n\r\n// Category\r\nrouter.get(\"/api/v1/category\", CategoryController.all);\r\n\r\n// Get Attraction\r\nrouter.get(\"/api/v1/category/:id/attraction\", CategoryController.getAttraction);\r\n\r\nexport default router;\r\n"]}